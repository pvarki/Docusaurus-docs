# docusaurus-pvarki-docs

### Input: 
**Automatically fetching**
- Automatically fetch docs from https://github.com/pvarki/docker-rasenmaeher-integration and submodules, so that we can see written & autogenerated docs well presented in one place
- Automatically fetch docs from [UPCOMING] live docs editor, so that writing up user docs is easy for non-developers
**Manually being written in this repo**
- While the [UPCOMING] live docs editor is not yet there, write docs here. Use Sidebar and src/sidebars/[product specific sidebar] to edit how docs are seen as high-level outline in sidebar. Make sure you follow similar folder structure, than there is in the sidebar.

### Output: 
- the container pvarki/pvarki-docs:latest
- static Docusaurus site, [demo from the latest build]( https://animated-adventure-w6k79rk.pages.github.io/docs/home/)

## Table of Contents

- [Docusaurus Documentation Project](#docusaurus-documentation-project)
  - [Table of Contents](#table-of-contents)
  - [Introduction](#introduction)
  - [Features](#features)
  - [Getting Started](#getting-started)
  - [Project Structure](#project-structure)
  - [Scripts](#scripts)
  - [Contributing](#contributing)
  - [License](#license)

## Introduction

This project aims to provide a comprehensive and easy-to-navigate documentation site for the Rasenmaeher project. The documentation is built using Docusaurus, a modern static site generator, and hosted using Nginx in a Docker container.

## Features

- **Automated Documentation Fetching**: Automatically fetches and updates documentation from the main repository and its submodules.
- **GitHub Actions Integration**: Automated workflows for building, testing, and deploying the documentation.
- **Docker Integration**: Builds the static documentation site into a Docker image with Nginx for hosting.
- **i18n**: Locales, presently for English (standard) and Finnish
- **Reveal.js decks**: Write standalone, portable powerpoints with MD & Mermaid. Localization integration. Mobile-friendly mode for small screens. 

## Project Structure

```plaintext
.github/
    workflows/                                                                  # GitHub Actions workflows
        docs.yml
        release-please.yml
docs/                                                                           # Documentation source files
    deployapp/                                                                  # Deploy App user docs
    tak/                                                                        # TAK user docs
    bl/                                                                         # Battlelog user docs
    dev/                                                                        # Developer docs 
i18n/
    fi/                                                                         # For each non-English locale, similar structure as here
        /docusaurus-plugin-content-docs/current/(similar structure to docs/)
slides/                                                                         # Place Reveal.js slides here
    en/                                                                         # Name decks for diffent locales similarily
    fi/
static/
    img/
    slides/
        en/
        fi/
src/
    components/                                                                 # Custom React components
    scripts/                                                                    # Fetch_docs script & others
    sidebars/                                                                   # Product-specific sidebars here
    theme/                                                                      # Custom themes
    css/                                                                        # Custom CSS
docusaurus.config.js                                                            # Docusaurus configuration
sidebar.js                                                                      # Sidebar configuration
package.json                                                                    # Project dependencies and scripts
README.md                                                                       # Project overview and instructions
reveal.build.js                                                                 # Runs HMR-like in dev mode and when building the site. Builds Reveal.js decks, from markdown to portable html.
reveal-template.html                                                            # Custom Reveal.js template, mainly to enable writing Mermaid to reveal decs.
Dockerfile                                                                      
LICENSE.md             
CHANGELOG.md            
```

## Scripts
### Production
- **`npm run build`**: Builds the static documentation site.

### Testing
- **`scripts/fetch_docs.sh`**: Fetches and updates documentation from the main repository and its submodules.
- **`docker build -t my-docusaurus-image -f dockerfile .`**: Builds the Docker image.
- **`docker run -p 80:80 my-docusaurus-image`**: Runs the Docker container.

### Developing
- **`npm run dev`**: Run the project in hot module reswap (HMR). HMR also reloads Reveal.js slides. 
- **`npm run dev:fi`**: Run the project with Finnish locales. For Reasons(tm), under dev mode, docusaurus can only run one locale at a time. 


## License
This project is licensed under the MIT License. See the LICENSE file for details.