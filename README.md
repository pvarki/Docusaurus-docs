# docusaurus-pvarki-docs

### Input: 
**Automatically fetching**
- Automatically fetch docs from https://github.com/pvarki/docker-rasenmaeher-integration and submodules, so that we can see written & autogenerated docs well presented in one place
- Automatically fetch docs from [UPCOMING] live docs editor, so that writing up user docs is easy for non-developers
**Manually being written in this repo**
- While the [UPCOMING] live docs editor is not yet there, write docs here. Use Sidebar and src/sidebars/[product specific sidebar] to edit how docs are seen as high-level outline in sidebar. Make sure you follow similar folder structure, than there is in the sidebar.

### Output: 
- the container pvarki/pvarki-docs:latest
- static Docusaurus site, [demo from the latest build]( https://animated-adventure-w6k79rk.pages.github.io/docs/home/)

## Table of Contents

- [docusaurus-pvarki-docs](#docusaurus-pvarki-docs)
    - [Input:](#input)
    - [Output:](#output)
  - [Table of Contents](#table-of-contents)
  - [Introduction](#introduction)
  - [Features](#features)
  - [Project Structure](#project-structure)
  - [Scripts](#scripts)
    - [Production](#production)
    - [Testing](#testing)
    - [Developing](#developing)
  - [License](#license)

## Introduction

This project aims to provide a comprehensive and easy-to-navigate documentation site for the Rasenmaeher project. The documentation is built using Docusaurus, a modern static site generator, and hosted using Nginx in a Docker container.

## Features

- **Automated Documentation Fetching**: Automatically fetches and updates documentation from the main repository and its submodules.
- **GitHub Actions Integration**: Automated workflows for building, testing, and deploying the documentation.
- **Docker Integration**: Builds the static documentation site into a Docker image with Nginx for hosting.
- **i18n**: Locales, presently for English (standard) and Finnish
- **Reveal.js decks**: Write standalone, portable powerpoints with MD & Mermaid. Localization integration. Mobile-friendly mode for small screens. 

## Project Structure

```plaintext
.github/
    workflows/                                                                  # GitHub Actions workflows
        docs.yml
        release-please.yml
docs/                                                                           # Documentation source files
    ios/                                                                        # iOS context user guides
    android/                                                                    # Android context user guides
    windows                                                                     # Windows context user guides
        /deployapp
        /tak
        /bl                                                                     # docs for each product
    dev/                                                                        # Developer docs 
i18n/
    fi/                                                                         # For each non-English locale, similar structure as here
        /docusaurus-plugin-content-docs/current/(similar structure to docs/)
static/
    img/
    slides/
        en/
        fi/
src/
    decks                                                                       # Reveal.js guide decks here
        /img                                                                    # Images to the decks
        /en                                                                     # Similar structure with all locales
        /fi
            /android                                                            # Similar structure with all platform contexts
            /ios
            /windows
                /deployapp                                                      # guidedecks for each product
                /tak
                /bl
    components/                                                                 # Custom React components
    scripts/                                                                    # Fetch_docs script & others
    sidebars/                                                                   # Product-specific sidebars here
        /android
        /ios
        /windows                                                                # Platform specific sidebars
    theme/                                                                      # Custom themes, overriding the Docusaurus standards
        /NavbarItem                                                             # Navbar tweaks, by foremost Platform Context shifting & dropdown chooser
        MDXComponents.jsx                                                       # Include all components that are included across all MD & MDX files, here
        Root.tsx                                                                # App root includes (overriding/adding to Docusaurus standard config)
    css/                                                                        # Custom CSS
        mobileslides.css                                                        # CSS related to making Reveal.js decks mobile-friendly
        tilegrid.css                                                            # The Tilegrid component's CSS (For tile links)
docusaurus.config.js                                                            # Docusaurus configuration
sidebar.js                                                                      # Sidebar configuration
package.json                                                                    # Project dependencies and scripts
README.md                                                                       # Project overview and instructions
reveal.build.cjs                                                                 # Runs HMR-like in dev mode and when building the site. Builds Reveal.js decks, from markdown to portable 
reveal-template.html                                                            # Custom Reveal.js template, mainly to enable writing Mermaid to reveal decs.
build.sh                                                                        # Build script that runs deck building upon changes on local AND production build
Dockerfile                                                                      
LICENSE.md             
CHANGELOG.md            
```

## Scripts
### Production
- Make sure you have Node.js and npm installed.
- **`npm install`**: Installs the project dependencies.
- **`npm run build`**: Builds the static documentation site.

### Testing
- **`scripts/fetch_docs.sh`**: Fetches and updates documentation from the main repository and its submodules.
- **`docker build -t my-docusaurus-image -f dockerfile .`**: Builds the Docker image.
- **`docker run -p 80:80 my-docusaurus-image`**: Runs the Docker container.

### Developing
- **`npm run dev`**: Run the project in hot module reswap (HMR). HMR also reloads Reveal.js slides. 
- **`npm run dev:fi`**: Run the project with Finnish locales. For Reasons(tm), under dev mode, docusaurus can only run one locale at a time. 


## License
This project is licensed under the MIT License. See the LICENSE file for details.