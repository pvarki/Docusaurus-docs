"use strict";(self.webpackChunkpvarki_docs=self.webpackChunkpvarki_docs||[]).push([[85],{772:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"dev/battlelog/README","title":"livelogi","description":"Install","source":"@site/docs/dev/battlelog/README.md","sourceDirName":"dev/battlelog","slug":"/dev/battlelog/","permalink":"/docs/dev/battlelog/","draft":false,"unlisted":false,"editUrl":"https://github.com/pvarki/docs/dev/battlelog/README.md","tags":[],"version":"current","frontMatter":{}}');var o=t(4848),l=t(8453);const r={},s="livelogi",d={},c=[{value:"Install",id:"install",level:2},{value:"Frontend development",id:"frontend-development",level:2},{value:"Info",id:"info",level:2},{value:"Migrations",id:"migrations",level:2},{value:"JWT testing",id:"jwt-testing",level:2},{value:"OpenAPI Specification",id:"openapi-specification",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"livelogi",children:"livelogi"})}),"\n",(0,o.jsx)(n.h2,{id:"install",children:"Install"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Install docker + compose"}),"\n",(0,o.jsx)(n.li,{children:"Rename .env_example --\x3e .env and modify as you like."}),"\n",(0,o.jsx)(n.li,{children:"Run docker compose build --no-cache"}),"\n",(0,o.jsx)(n.li,{children:"Run docker compose up -d"}),"\n",(0,o.jsx)(n.li,{children:"Navigate to localhost:3000"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"frontend-development",children:"Frontend development"}),"\n",(0,o.jsxs)(n.p,{children:["The frontend is bundled with ",(0,o.jsx)(n.a,{href:"https://vitejs.dev/",children:"Vite"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Once the backend is running (on port 3000), you can navigate to ",(0,o.jsx)(n.code,{children:"frontend/"}),",\nrun ",(0,o.jsx)(n.code,{children:"npm i"})," and ",(0,o.jsx)(n.code,{children:"npm run dev"})," to run the Vite development server that has\nhot reload and all that jazz."]}),"\n",(0,o.jsx)(n.h2,{id:"info",children:"Info"}),"\n",(0,o.jsx)(n.p,{children:"Database is currently preseeded with test data from preseed/preseed.csv"}),"\n",(0,o.jsx)(n.h2,{id:"migrations",children:"Migrations"}),"\n",(0,o.jsxs)(n.p,{children:["To add new migration, locally run: ",(0,o.jsx)(n.code,{children:"./node_modules/.bin/node-pg-migrate create <MIGRATION_NAME>"})," and modify created file in ",(0,o.jsx)(n.code,{children:"/migrations"})," directory.\nMigrations are run (if needed) when docker container starts. ",(0,o.jsx)(n.code,{children:"wait-for-it.sh"})," will ensure that psql container is up and accepting connections before running migrations."]}),"\n",(0,o.jsx)(n.h2,{id:"jwt-testing",children:"JWT testing"}),"\n",(0,o.jsx)(n.p,{children:'Remove comments from "jwt-test-network" for local jwt testing, to allow joining containers from 2 different compose runs to same docker network.'}),"\n",(0,o.jsx)(n.h2,{id:"openapi-specification",children:"OpenAPI Specification"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://pvarki.github.io/typescript-liveloki-app/",children:"https://pvarki.github.io/typescript-liveloki-app/"})})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>s});var i=t(6540);const o={},l=i.createContext(o);function r(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);